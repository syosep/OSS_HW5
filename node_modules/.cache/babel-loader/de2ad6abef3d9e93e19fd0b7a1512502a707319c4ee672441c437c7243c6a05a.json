{"ast":null,"code":"var _jsxFileName = \"/Users/sim-yosep/Documents/24-2 \\u110B\\u1169\\u1111\\u1173\\u11AB\\u1109\\u1169\\u1109\\u1173\\u1109\\u1173\\u1110\\u1172\\u1103\\u1175\\u110B\\u1169/react/5-assignment-4-2-react-practice-syosep/src/components/User/EditUser.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Loader from \"../Common/Loader\";\nimport \"./User.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditUser = () => {\n  _s();\n  const [user, setUser] = useState({\n    name: '',\n    email: '',\n    phone: ''\n  }); // Initialize with empty fields\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const getUserApi = \"https://66ff38152b9aac9c997e8ed9.mockapi.io/api/oss/:endpoint\";\n  const getUser = useCallback(() => {\n    setIsLoading(true); // Set loading to true when fetching data\n    axios.get(`${getUserApi}/${id}`).then(response => {\n      setUser(response.data);\n      setIsLoading(false); // Set loading to false after data is fetched\n    }).catch(err => {\n      console.error(err);\n      setError(\"Failed to fetch user data.\"); // Set a generic error message\n      setIsLoading(false);\n    });\n  }, [id, getUserApi]);\n  useEffect(() => {\n    getUser();\n  }, [getUser]);\n  const handleInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser(prev => ({\n      ...prev,\n      [name]: value\n    })); // Update the user state\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setIsLoading(true); // Set loading to true before starting the PUT request\n\n    fetch(`${getUserApi}/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n      return response.json();\n    }).then(() => {\n      navigate(\"/show-user\");\n    }).catch(error => {\n      setError(error.message);\n      setIsLoading(false);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"heading\",\n      children: [isLoading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 23\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Edit Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          className: \"form-label\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"name\",\n          name: \"name\",\n          value: user.name,\n          onChange: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          className: \"form-label\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          id: \"email\",\n          name: \"email\",\n          value: user.email,\n          onChange: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"phone\",\n          className: \"form-label\",\n          children: \"Phone\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"phone\",\n          name: \"phone\",\n          value: user.phone,\n          onChange: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary submit-btn\",\n        children: \"EDIT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(EditUser, \"jhipP/rtJqM1Vqfp2DKIlRe1LvI=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditUser;\nexport default EditUser;\nvar _c;\n$RefreshReg$(_c, \"EditUser\");","map":{"version":3,"names":["axios","React","useEffect","useState","useCallback","useParams","useNavigate","Loader","jsxDEV","_jsxDEV","EditUser","_s","user","setUser","name","email","phone","error","setError","isLoading","setIsLoading","id","navigate","getUserApi","getUser","get","then","response","data","catch","err","console","handleInput","e","value","target","prev","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","ok","Error","json","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","onChange","_c","$RefreshReg$"],"sources":["/Users/sim-yosep/Documents/24-2 오픈소스스튜디오/react/5-assignment-4-2-react-practice-syosep/src/components/User/EditUser.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Loader from \"../Common/Loader\";\nimport \"./User.css\";\n\nconst EditUser = () => {\n  const [user, setUser] = useState({ name: '', email: '', phone: '' }); // Initialize with empty fields\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const getUserApi = \"https://66ff38152b9aac9c997e8ed9.mockapi.io/api/oss/:endpoint\";\n\n  const getUser = useCallback(() => {\n    setIsLoading(true); // Set loading to true when fetching data\n    axios\n      .get(`${getUserApi}/${id}`)\n      .then((response) => {\n        setUser(response.data);\n        setIsLoading(false); // Set loading to false after data is fetched\n      })\n      .catch((err) => {\n        console.error(err);\n        setError(\"Failed to fetch user data.\"); // Set a generic error message\n        setIsLoading(false);\n      });\n  }, [id, getUserApi]);\n\n  useEffect(() => {\n    getUser();\n  }, [getUser]);\n\n  const handleInput = (e) => {\n    const { name, value } = e.target;\n    setUser((prev) => ({ ...prev, [name]: value })); // Update the user state\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setIsLoading(true); // Set loading to true before starting the PUT request\n\n    fetch(`${getUserApi}/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(user),\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n        return response.json();\n      })\n      .then(() => {\n        navigate(\"/show-user\");\n      })\n      .catch((error) => {\n        setError(error.message);\n        setIsLoading(false);\n      });\n  };\n\n  return (\n    <div className=\"user-form\">\n      <div className=\"heading\">\n        {isLoading && <Loader />}\n        {error && <p>Error: {error}</p>}\n        <p>Edit Form</p>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <div className=\"mb-3\">\n          <label htmlFor=\"name\" className=\"form-label\">Name</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"name\"\n            name=\"name\"\n            value={user.name}\n            onChange={handleInput}\n          />\n        </div>\n        <div className=\"mb-3 mt-3\">\n          <label htmlFor=\"email\" className=\"form-label\">Email</label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"email\"\n            name=\"email\"\n            value={user.email}\n            onChange={handleInput}\n          />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"phone\" className=\"form-label\">Phone</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"phone\"\n            name=\"phone\"\n            value={user.phone}\n            onChange={handleInput}\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary submit-btn\">\n          EDIT\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default EditUser;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}